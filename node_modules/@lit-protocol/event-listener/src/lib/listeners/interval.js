"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.IntervalListener = void 0;
const listener_1 = require("./listener");
class IntervalListener extends listener_1.Listener {
    constructor(callback, interval = 1000) {
        super({
            start: async () => {
                this.intervalId = setInterval(async () => {
                    const value = await callback();
                    this.emit(value);
                }, interval);
            },
            stop: async () => {
                if (this.intervalId) {
                    clearInterval(this.intervalId);
                }
            },
        });
    }
}
exports.IntervalListener = IntervalListener;
//# sourceMappingURL=interval.js.map